(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[1],{102:function(e,t,a){"use strict";var n=a(29),r=a.n(n);t.a=function(e,t,a){return r.a.tz(1e3*e,t).format(a)}},121:function(e,t,a){"use strict";var n=a(94),r=a.n(n),l=a(105),c=a(100),s=a.n(c),m=a(106),o=a.n(m),i=a(168),u=a(91),d=a(102),f=a(8);o()(s.a,{retryDelay:o.a.exponentialDelay});var b=function(e){return"".concat("https://cors-anywhere.herokuapp.com","/https://api.darksky.net/forecast/").concat("4e27157cf1858c6667c07568e8e21a56","/").concat(e,"?extend=hourly&exclude=minutely,flags")};t.a=function(e){var t,a,n,c,m,o,x,y,p;return r.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:if(t=e.latlong,a={},n={},Object(i.a)(t)||Object(u.a)(t)){h.next=16;break}return h.prev=4,h.next=7,r.a.awrap(s.a.get(b(t)));case 7:c=h.sent,m=c.data,o=m,Object(u.a)(o)||Object(i.a)(o)||(x=o.timezone,a=Object(l.a)({timezone:x},o.currently,{sunrise:o.daily.data[0].sunriseTime,sunset:o.daily.data[0].sunsetTime}),y={},o.hourly.data.forEach((function(e){var t=Object(d.a)(e.time,x,"MM/DD/YYYY");Object.keys(y).includes(t)?y[t].push(Object(l.a)({timezone:x},e)):y[t]=[Object(l.a)({timezone:x},e)]})),p={},o.daily.data.forEach((function(e){var t=Object(d.a)(e.time,x,"MM/DD/YYYY");p[t]=Object(l.a)({timezone:x},e)})),n={timeFrames:y,days:p}),h.next=16;break;case 13:h.prev=13,h.t0=h.catch(4),f.a(h.t0);case 16:return h.abrupt("return",{weatherCurrent:a,weatherForecast:n});case 17:case"end":return h.stop()}}),null,null,[[4,13]])}},122:function(e,t,a){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mobile";return{width:"100%",slidesToShow:"time"===e?"tablet"===t?8:3:1,slidesToScroll:"time"===e?"tablet"===t?8:3:1,initialSlideHeight:"time"===e?100:200,slideWidth:"time"===e?"tablet"===t?1:.95:1,speed:1e3,easing:"easeSinInOut",defaultControlsConfig:{prevButtonStyle:{display:"none"},nextButtonStyle:{display:"none"},pagingDotsStyle:{fill:"#A1A6B4",display:"flex",position:"relative",top:"day"===e?"25px":"35px",margin:"10px 5px"}}}}},124:function(e,t,a){"use strict";var n=a(30);t.a=function(e,t){switch(e){case"favorites":Object(n.a)({category:"Favorites",action:"Select Favorite",label:t});break;case"explore-life":Object(n.a)({category:"Explore Life",action:"Click on Explore Life",label:t});break;case"powered-by":Object(n.a)({category:"Powered By",action:"Click on Powered By",label:t})}}},126:function(e,t,a){"use strict";var n=a(105),r=a(1),l=a.n(r),c=a(13),s=a(29),m=a.n(s),o=function(e,t,a){return"sunrise"===e||"sunset"===e?m()(1e3*t).tz(a).format("H"):m()().tz(a).format("H")},i=function(e){var t=e.icon,a=e.timezone,n=e.sunrise,r=e.sunset,l=o("sunrise",n,a),c=o("sunset",r,a),s=o("hour",0,a),m=s>=l-1&&s<=c?"day":"night",i=s===l-1||s===l,u=s===c-1||s===c;if(t)switch(t){case"clear-day":return u?"dusk":i?"dawn":"clear-day";case"clear-night":return u?"dusk":i?"dawn":"clear-night";case"rain":case"snow":case"sleet":return"overcast-".concat(m);case"wind":return"cloudy-".concat(m);case"fog":return"overcast-".concat(m);case"cloudy":return"cloudy-".concat(m);case"partly-cloudy-day":return"cloudy-day";case"partly-cloudy-night":return"cloudy-night";case"hail":return"overcast-".concat(m);case"thunderstorm":return"thunderstorm";case"tornado":return"tornado";default:return"clear-day"}return"clear-day"},u=a(127),d=a(49),f=a(96),b=a(168),x=a(91),y=a(30),p=a(26),h=function(e){var t=e.address,a=e.latlong,n=e.urbanArea,c=e.weatherCurrent,s=Object(r.useContext)(f.a).updateFavorites,o=Object(r.useState)(""),i=Object(d.a)(o,2),h=i[0],E=i[1],g=Object(r.useState)(""),w=Object(d.a)(g,2),v=w[0],N=w[1],j=function(e,t){Object(y.a)({category:"Favorite City",action:"".concat(e," city"),label:t})},O=Object(r.useRef)(),k=function(){return!!localStorage.getItem("favorites")&&JSON.parse(localStorage.getItem("favorites")).filter((function(e){return e.address.cityName===t.cityName})).length>0},C=function(e){E(Object(b.a)(e)?"":e.format("MMMM Do, YYYY")),N(Object(b.a)(e)?"":e.format("dddd h:mm A")),O.current=e||null};return Object(r.useEffect)((function(){C(m()(1e3*c.time).tz(c.timezone));var e=setInterval((function(){if(c.time){var e=m.a.tz(O.current,c.timezone).add(1,"s");C(e)}}),1e3);return function(){clearInterval(e)}}),[c]),l.a.createElement("div",{className:"flex justify-between items-start"},l.a.createElement("div",{className:"pt-4 px-4"},l.a.createElement("p",{className:"font-bold"},t.cityName),l.a.createElement("div",{className:"sm:flex-col md:flex md:flex-row font-light"},Object(x.a)(h)||Object(x.a)(v)?null:l.a.createElement(r.Fragment,null,l.a.createElement("p",null,h,l.a.createElement("span",{className:"invisible md:visible"},"\xa0|\xa0")),l.a.createElement("p",null,v)))),l.a.createElement("div",{className:"mt-6 mr-4 cursor-pointer text-xl",title:k()?"Remove this city from favorites":"Favorite this city",onClick:function(){if(localStorage.getItem("favorites")){var e=JSON.parse(localStorage.getItem("favorites")),r=e.filter((function(e){return e.address.cityName===t.cityName}));if(r.length){var l=e.findIndex((function(e){return e.address.cityName===r[0].address.cityName}));if(-1!==l){var c=Object(u.a)(e);c.splice(l,1),localStorage.setItem("favorites",JSON.stringify(c)),j("remove",t.cityName),s({favorites:c})}}else{var m=[].concat(Object(u.a)(e),[{address:t,latlong:a,urbanArea:n}]);localStorage.setItem("favorites",JSON.stringify(m)),j("add",t.cityName),s({favorites:m})}}else localStorage.setItem("favorites",JSON.stringify([{address:t,latlong:a,urbanArea:n}])),j("add",t.cityName),s({favorites:[{address:t,latlong:a,urbanArea:n}]})}},k()?l.a.createElement(p.a,null):l.a.createElement(p.d,null)))},E=a(101),g=function(e){return e>=0&&e<=45?"up":e>=46&&e<=90?"up-right":e>=91&&e<=135?"right":e>=136&&e<=180?"down-right":e>=181&&e<=225?"down":e>=226&&e<=270?"down-left":e>=271&&e<=315?"left":"up-left"},w=function(e){var t=e.icon,a=e.time,n=e.timezone,r=m()(1e3*a).tz(n).format("H"),l=r>=6&&r<=18?"day":"night";if(t)switch(t){case"clear-day":return"day";case"clear-night":return"night";case"rain":return"".concat(l,"-rain");case"snow":return"".concat(l,"-snow");case"sleet":return"sleet";case"wind":case"fog":return"".concat(l,"-cloudy");case"cloudy":return"cloudy";case"partly-cloudy-day":return"day-cloudy";case"partly-cloudy-night":return"night-cloudy";case"hail":return"hail";case"thunderstorm":return"thunder";case"tornado":return"wi-tornado";default:return"wi-na"}return"wi-na"},v=function(e){return Math.round(5*(e-32)/9)},N=a(120),j=a(159),O=function(e){var t=e.type;return{"wi-day-fog":l.a.createElement(j.b,null),"wi-night-fog":l.a.createElement(j.m,null),"wi-day-windy":l.a.createElement(j.a,null),"wi-night-windy":l.a.createElement(j.l,null),"wi-tornado":l.a.createElement(j.p,null),"wi-na":l.a.createElement(j.k,null),up:l.a.createElement(j.h,null),"up-right":l.a.createElement(j.j,null),right:l.a.createElement(j.g,null),"down-right":l.a.createElement(j.e,null),down:l.a.createElement(j.c,null),"down-left":l.a.createElement(j.d,null),left:l.a.createElement(j.f,null),"up-left":l.a.createElement(j.i,null),sunrise:l.a.createElement(j.n,null),sunset:l.a.createElement(j.o,null)}[t]||l.a.createElement(j.k,null)},k=function(e){var t=e.weatherCurrent,a=Object(r.useContext)(E.a),n=a.weatherUnit,c=a.updateWeatherUnit,s="C"===n?"Celsius":"Fahrenheit",m="C"===n?"F":"C",o=function(e){Object(y.a)({category:"Weather Unit",action:"Set Unit",label:e}),c(e)},i=function(e){return"F"===n?Math.round(t["".concat(e)]):v(t["".concat(e)])};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"sm:flex-col md:flex md:flex-row justify-between my-2 px-6 sm:mt-5 sm:mb-5 sm:px-4"},l.a.createElement("div",{className:"flex-col sm:w-full lg:w-1/2"},l.a.createElement("div",{className:"flex flex-row justify-between sm:justify-start"},l.a.createElement("div",{className:"flex flex-col justify-center items-center"},l.a.createElement("div",null,w(t).startsWith("wi")?l.a.createElement("p",{className:"text-6xl sm:mx-2 mt-2",title:t.summary},l.a.createElement(O,{type:w(t)})):l.a.createElement("img",{src:"./weather/".concat(w(t),".svg"),alt:"icon",title:t.summary,className:"-mt-2 -ml-4 sm:mx-0 w-32 h-32 object-contain"})),l.a.createElement("p",{className:"hidden sm:flex font-medium -mt-2 ml-3 capitalize"},t.summary)),l.a.createElement("div",{className:"flex justify-start items-center sm:-mt-3 sm:ml-3"},l.a.createElement("div",null,l.a.createElement("span",{className:"text-6xl font-bold"},i("temperature"))),l.a.createElement("p",{className:"-mt-8 text-3xl"},l.a.createElement("sup",null,"o")),l.a.createElement("div",{className:"-mt-10 mx-2 text-xl"},l.a.createElement("span",{className:"cursor-pointer font-bold",title:s,onClick:function(){return o(n)}},n),l.a.createElement("span",{className:"mx-1 opacity-25"},"|"),l.a.createElement("span",{className:"cursor-pointer font-light opacity-75",title:s,onClick:function(){return o(m)}},m))))),l.a.createElement("div",{className:"flex flex-col justify-center items-center sm:mt-6 sm:w-full lg:w-1/2"},l.a.createElement("p",{className:"sm:hidden font-medium capitalize text-2xl -mt-2 mb-2"},t.summary),l.a.createElement("div",{className:"text-sm sm:text-lg ml-8"},l.a.createElement("div",{className:"flex flex-row sm:my-2"},l.a.createElement("p",{className:"font-light"},"Humidity:"),"\xa0",l.a.createElement("p",{className:"mx-1 font-bold"},Math.round(t.humidity)),l.a.createElement("p",{className:"text-sm mt-1"},l.a.createElement(N.a,null))),l.a.createElement("div",{className:"flex items-center sm:my-2"},l.a.createElement("p",null,l.a.createElement("span",{className:"font-light"},"Wind:"),"\xa0",l.a.createElement("span",{className:"font-bold"},function(){return"F"===n?"".concat(Math.round(t.windSpeed)," mph"):"".concat((e=t.windSpeed,Math.round(1.6*e))," kmph");var e}()," ")),l.a.createElement("p",{className:"text-3xl"},l.a.createElement(O,{type:g(t.windBearing)}))),l.a.createElement("p",null,l.a.createElement("span",{className:"font-light sm:my-2"},"Feels like:"),"\xa0",l.a.createElement("span",{className:"font-bold"},i("apparentTemperature")),l.a.createElement("sup",null,"o"))))))},C=a(48),F=a(107),S=function(e){var t=e.weatherCurrent,a=e.address,n=e.latlong,c=e.urbanArea;return l.a.createElement(F.a,null,l.a.createElement(r.Fragment,null,a&&t?l.a.createElement("div",null,l.a.createElement(h,{address:a,latlong:n,urbanArea:c,weatherCurrent:t}),l.a.createElement(k,{weatherCurrent:t})):l.a.createElement(C.a,null)))},z=a(94),M=a.n(z),T=a(125),Y=a(102),D=function(e){var t=e.day,a=e.index,n=e.selectedIndex,s=Object(r.useContext)(E.a).weatherUnit,m=Object(r.useContext)(c.a),o=m.theme,i=m.colorTheme,u=function(e){return"F"===s?Math.round(t["temperature".concat(e)]):v(t["temperature".concat(e)])};return l.a.createElement("div",{className:"md:border-t md:border-b-0 md:border-light md:hover:border-light md:hover:bg-light md:hover:text-black items-center text-center sm:flex-1 sm:py-1 sm:pb-3 cursor-pointer transition-all duration-1000 ease-in-out ".concat(a===n?"bg-".concat(i," text-").concat(o):""," ").concat("md:border-r".concat(7===a||a===n-1?"-0":""," md:border-l").concat(0===a||a===n+1?"-0":"")),onClick:function(){e.selectedDay({day:t})}},l.a.createElement("div",{className:"flex flex-row flex-no-wrap sm:flex-col sm:flex-wrap justify-around items-center px-2"},l.a.createElement("p",{className:"flex w-1/6 sm:w-full sm:justify-center text-base font-light sm:font-medium"},Object(Y.a)(t.time,t.timezone,"ddd")),l.a.createElement("div",{className:"flex w-1/6 sm:w-full"},w(t).startsWith("wi")?l.a.createElement("p",{className:"my-1 sm:mt-1 sm:mb-3 mx-auto text-3xl",title:t.summary},l.a.createElement(O,{type:w(t)})):l.a.createElement("img",{src:"./weather/".concat(w(t),".svg"),alt:"icon",title:t.summary,className:"sm:-mt-3 sm:-mb-1 mx-auto w-12 h-12 sm:w-16 sm:h-16 object-contain"})),l.a.createElement("div",{className:"flex flex-row justify-center items-center font-light w-1/4 sm:w-full mt-1 sm:mt-0"},l.a.createElement("p",{className:"mx-2 text-xs sm:text-sm"},u("High"),l.a.createElement("sup",null,"o")),l.a.createElement("p",{className:"mx-2 text-xs"},u("Low"),l.a.createElement("sup",null,"o"))),l.a.createElement("div",{className:"".concat("flex"," flex-row justify-around sm:justify-center sm:flex sm:flex-col w-5/12 sm:w-full font-light mt-1")},l.a.createElement("div",{className:"flex flex-row justify-center items-center mx-2 sm:my-1 text-xs sm:text-sm"},l.a.createElement("p",{className:"text-xl lg:text-2xl text-sun mr-2 md:mr-3",title:"sunrise"},l.a.createElement(O,{type:"sunrise"})),l.a.createElement("p",null,Object(Y.a)(t.sunriseTime,t.timezone,"h:mm"))),l.a.createElement("div",{className:"flex flex-row justify-center items-center mx-2 sm:my-1 text-xs sm:text-sm"},l.a.createElement("p",{className:"text-xl lg:text-2xl text-sun mr-2 md:mr-1",title:"sunset"},l.a.createElement(O,{type:"sunset"})),l.a.createElement("p",null,Object(Y.a)(t.sunsetTime,t.timezone,"HH:mm"))))))},A=function(e){var t=e.Timeframe,a=Object(r.useContext)(E.a).weatherUnit,n=Object(r.useContext)(c.a).colorTheme,s=function(e){return"F"===a?Math.round(t["".concat(e)]):v(t["".concat(e)])};return l.a.createElement("div",{className:"border-none flex flex-col justify-start items-center mx-3 mb-3 w-full font-light text-".concat(n," md:text-light")},l.a.createElement("div",null,w(t).startsWith("wi")?l.a.createElement("p",{className:"text-5xl mt-4",title:t.summary},l.a.createElement(O,{type:w(t)})):l.a.createElement("img",{src:"./weather/".concat(w(t),".svg"),alt:"icon",title:t.summary,className:"w-16 h-16 object-contain"})),l.a.createElement("p",{className:"text-lg"},s("temperature"),l.a.createElement("sup",null,"o")),l.a.createElement("p",{className:"text-sm"},s("apparentTemperature"),l.a.createElement("sup",null,"o")),l.a.createElement("p",{className:"text-sm font-medium"},Object(Y.a)(t.time,t.timezone,"h:mm A")))},I=a(122),H=a(95),B=function(e){var t=e.cityName,a=e.weatherCurrent,n=e.weatherForecast,c=Object(r.useState)(""),s=Object(d.a)(c,2),m=s[0],o=s[1],i=Object(r.useState)(0),u=Object(d.a)(i,2),f=u[0],y=u[1],p=a.time,h=a.timezone,E=function(e){var t=Object.keys(n.days).indexOf(e);y(-1!==t?t:0)};return Object(r.useEffect)((function(){!function(){var e;M.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:Object(b.a)(a.time)||(e=Object(Y.a)(p,h,"MM/DD/YYYY"),Object(x.a)(n)||Object(b.a)(n)||(o(n.days[e]?e:""),E(n.days[e]?e:"")));case 1:case"end":return t.stop()}}))}()}),[n]),l.a.createElement(F.a,null,l.a.createElement(r.Fragment,null,Object(x.a)(n.days)||Object(x.a)(m)?l.a.createElement("div",{className:"mb-3"},Object(x.a)(n.days)?l.a.createElement(H.a,{errorMessage:"No forecast data available for this city!",showCloseBtn:!1}):l.a.createElement(C.a,{loaderText:"Fetching 7 days weather forecast for ".concat(t)})):l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"sm:hidden pb-3"},n.timeFrames[m]?l.a.createElement(T.a,Object(I.a)("time"),n.timeFrames[m].map((function(e,t){return l.a.createElement(A,{Timeframe:e,key:t})}))):l.a.createElement(H.a,{errorMessage:"No hourly forecast available for ".concat(m)})),l.a.createElement("div",{className:"hidden sm:flex sm:pb-3 sm:mb-4"},n.timeFrames[m]?l.a.createElement(T.a,Object(I.a)("time","tablet"),n.timeFrames[m].map((function(e,t){return l.a.createElement(A,{Timeframe:e,key:t})}))):l.a.createElement(H.a,{errorMessage:"No hourly forecast available for ".concat(m)})),l.a.createElement("div",{className:"flex flex-col mt-4 sm:mt-0 sm:flex-row w-full rounded"},Object.keys(n.days).map((function(e,t){return l.a.createElement(D,{day:n.days[e],key:t,index:t,selectedIndex:f,selectedDay:function(){return function(e){o(e),E(e)}(e)}})}))))))},J=a(124);a(166),t.a=function(e){var t=e.weatherCurrent,a=e.weatherForecast,s=e.address,m=e.latlong,o=e.urbanArea,u=Object(r.useContext)(c.a),d=u.theme,f=u.colorTheme,b={borderTopLeftRadius:"1rem",borderTopRightRadius:"1rem"};return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"flex flex-col justify-center items-center lg:px-5 pt-10"},l.a.createElement("div",{className:"sm:w-full lg:w-5/6 xl:max-w-6xl bg-".concat(d," text-").concat(f," border border-").concat(f," md:border-none rounded-t-2xl shadow-lg")},l.a.createElement("div",{className:"relative overflow-hidden"},l.a.createElement("img",{src:"./weather-backgrounds/".concat(i(t),".jpg"),alt:"clear day",className:"w-full object-cover object-center weather-background",style:b}),l.a.createElement("div",null,["rain","snow","sleet","hail"].includes(t.icon)&&l.a.createElement("img",{src:"./weather-backgrounds/".concat("snow"===t.icon?"snow":"rain",".svg"),alt:"clear day",className:"w-full object-cover object-center absolute top-0 right-0 bottom-0 left-0 weather-background",style:b})),l.a.createElement("div",{className:"block md:hidden absolute top-0 bottom-0 left-0 right-0 my-auto mx-auto text-light",style:Object(n.a)({background:"rgba(0,0,0,0.2)"},b)},l.a.createElement(S,{weatherCurrent:t,address:s,latlong:m,urbanArea:o})),l.a.createElement("div",{className:"hidden md:block absolute top-0 bottom-0 left-0 right-0 my-auto mx-auto text-light",style:Object(n.a)({background:"rgba(0,0,0,0.2)"},b)},l.a.createElement(S,{weatherCurrent:t,address:s,latlong:m,urbanArea:o}),l.a.createElement(B,{cityName:s.cityName,weatherCurrent:t,weatherForecast:a}))),l.a.createElement("div",{className:"block md:hidden"},l.a.createElement(B,{cityName:s.cityName,weatherCurrent:t,weatherForecast:a})))),l.a.createElement("div",{className:"relative"},l.a.createElement("p",{className:"mx-auto text-center pt-2 pb-10 text-xs font-light text-".concat(f," bg-").concat(d)},"Powered by\xa0",l.a.createElement("a",{href:"https://darksky.net/poweredby/",target:"_blank",rel:"noreferrer noopener",className:"link z-0 font-medium hover:text-".concat(d),onClick:function(){return Object(J.a)("powered-by","Dark Sky")}},"Dark Sky")),l.a.createElement("div",{className:"bg-".concat(d)},o.slug?l.a.createElement("div",{className:"mx-auto text-center pb-5"},l.a.createElement("p",null,l.a.createElement("a",{href:"https://teleport.org/cities/".concat(o.slug),target:"_blank",rel:"noreferrer noopener",className:"hover:no-underline",onClick:function(){return Object(J.a)("explore-life",o.name)}},l.a.createElement("button",{className:"bg-".concat(f," text-").concat(d," font-semibold py-3 px-6 rounded-full capitalize")},"Explore life in ",o.name))),l.a.createElement("p",{className:"py-1 text-xs font-light text-".concat(f)},"Powered by\xa0",l.a.createElement("a",{href:"https://teleport.org/",target:"_blank",rel:"noreferrer noopener",className:"link z-0 font-medium hover:text-".concat(d),onClick:function(){return Object(J.a)("powered-by","Teleport")}},"Teleport"))):null)))}},166:function(e,t,a){}}]);
//# sourceMappingURL=1.64a0cf82.chunk.js.map