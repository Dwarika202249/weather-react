{"version":3,"sources":["utils/CarouselSettings.js","utils/ImageDetails.js","utils/FetchWeatherData.js","utils/MiscTrackEvents.js","components/weather/InfoComponent.js","utils/WindDirection.js","components/weather/InfoDetailComponent.js","utils/SpeedConvert.js","containers/current-weather/CurrentWeatherContainer.js","components/weather/DayComponent.js","components/weather/TimeframeComponent.js","containers/forecast/ForecastContainer.js","components/favorite/FavoriteComponent.js","containers/favorites/FavoritesContainer.js","utils/FormatTime.js","utils/TemperatureConvert.js","utils/WeatherIcon.js"],"names":["CarouselSettings","type","resolution","width","slidesToShow","slidesToScroll","initialSlideHeight","slideWidth","speed","easing","defaultControlsConfig","prevButtonStyle","display","nextButtonStyle","pagingDotsStyle","fill","position","top","margin","imageExist","urbanArea","isUndefined","photos","isEmpty","length","getImageDetails","image","mobile","web","attribution","photographer","site","source","axiosRetry","axios","retryDelay","exponentialDelay","getURL","latlong","process","FetchWeatherData","a","async","weatherCurrent","weatherForecast","get","then","response","weatherData","data","timezone","currently","timeFrames","hourly","forEach","hour","date","FormatTime","time","Object","keys","includes","push","days","daily","day","catch","err","Sentry","emitGA","value","Event","category","action","label","InfoComponent","address","updateFavorites","useContext","AddressContext","useState","setDate","setTime","colorTheme","ThemeContext","emitFavoriteCityGA","favoriteCity","formattedDateTimeRef","useRef","isBookmarked","localStorage","getItem","JSON","parse","filter","favorite","cityName","datetimeSetter","dateObj","format","current","useEffect","moment","tz","dateTimer","setInterval","formattedDateTimeObj","add","clearInterval","className","src","alt","style","background","borderTopLeftRadius","borderTopRightRadius","title","onClick","favorites","sortedFavorites","sortBy","duplicates","removeIndex","findIndex","newFavorites","splice","setItem","stringify","fontSize","href","target","rel","getWindDirection","deg","InfoDetailComponent","WeatherUnitContext","weatherUnit","updateWeatherUnit","unitClick","unit","computedTempValue","Math","round","fToC","getWeatherIcon","icon","summary","humidity","windSpeed","computedSpeedValue","windBearing","CurrentWeatherContainer","ErrorBoundaryContainer","LoaderComponent","DayComponent","props","index","selectedIndex","theme","selectedDay","sunriseTime","sunsetTime","TimeframeComponent","Timeframe","ForecastContainer","setSelectedDay","daySelectHandler","today","updateSelectedDay","ErrorComponent","errorMessage","showCloseBtn","loaderText","map","key","slideIndex","indexOf","afterSlide","imageOverlay","FavoriteComponent","favoriteSelected","split","FavoritesContainer","selectedFavorite","setSelectedFavorite","favoriteWeather","setFavoriteWeather","isLoading","setIsLoading","setSlideIndex","weatherRef","validCityName","selectFavoriteHandler","fetchWeatherData","state","scrollHandler","finally","ref","window","scrollTo","offsetTop","timer","slug","name","timestamp","formatType","temp","code"],"mappings":"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","file":"static/js/5.f7f33613.chunk.js","sourcesContent":["// modify carousel settings for timeframe, day, and favorites components\r\n/**\r\n * time or day or favorite\r\n * @param {String} type\r\n * resolution can be mobile or tablet\r\n * @param {*} resolution\r\n */\r\nconst CarouselSettings = (type, resolution = 'mobile') => ({\r\n  width: '100%',\r\n  slidesToShow: type === 'time' ? (resolution === 'tablet' ? 8 : 3) : 1,\r\n  slidesToScroll: type === 'time' ? (resolution === 'tablet' ? 8 : 3) : 1,\r\n  initialSlideHeight: type === 'time' ? 100 : 200,\r\n  slideWidth: type === 'time' ? (resolution === 'tablet' ? 1.0 : 0.95) : 1.0,\r\n  speed: 1000,\r\n  easing: 'easeSinInOut',\r\n  defaultControlsConfig: {\r\n    prevButtonStyle: {\r\n      display: 'none'\r\n    },\r\n    nextButtonStyle: {\r\n      display: 'none'\r\n    },\r\n    pagingDotsStyle: {\r\n      fill: '#A1A6B4',\r\n      display: 'flex',\r\n      position: 'relative',\r\n      top: type === 'day' ? '25px' : '35px',\r\n      margin: '10px 5px'\r\n    }\r\n  }\r\n})\r\n\r\nexport default CarouselSettings\r\n","import {isUndefined, isEmpty} from 'lodash-es'\r\n\r\n// check if there any image exist for an urban area\r\nconst imageExist = urbanArea => {\r\n  return isUndefined(urbanArea.photos) && isEmpty(urbanArea.photos)\r\n    ? false\r\n    : urbanArea.photos.length > 0\r\n}\r\n\r\n/* sample urbanArea\r\n\"urbanArea\": {\r\n  \"name\": \"Christchurch\",\r\n  \"slug\": \"christchurch\",\r\n  \"photos\": [\r\n    {\r\n      \"attribution\": {\r\n        \"license\": \"Creative Commons Attribution-Share Alike 3.0 Unported\",\r\n        \"photographer\": \"P. Stalder\",\r\n        \"site\": \"Wikimedia Commons\",\r\n        \"source\": \"https://commons.wikimedia.org/wiki/File:Christchurch_City.jpg\"\r\n      },\r\n      \"image\": {\r\n        \"mobile\": \"https://d13k13wj6adfdf.cloudfront.net/urban_areas/christchurch-0cf7c854fe.jpg\",\r\n        \"web\": \"https://d13k13wj6adfdf.cloudfront.net/urban_areas/christchurch_web-23e4656c2c.jpg\"\r\n      }\r\n    }\r\n  ]\r\n} */\r\n/**\r\n * @param {Object} urbanArea\r\n */\r\nconst getImageDetails = urbanArea => {\r\n  const {image} = imageExist(urbanArea)\r\n    ? urbanArea.photos[0]\r\n    : {mobile: '', web: ''}\r\n  const {photographer, site, source} = imageExist(urbanArea)\r\n    ? urbanArea.photos[0].attribution\r\n    : {\r\n        photographer: '',\r\n        site: '',\r\n        source: ''\r\n      }\r\n\r\n  return {\r\n    image,\r\n    photographer,\r\n    site,\r\n    source\r\n  }\r\n}\r\n\r\nexport {imageExist, getImageDetails}\r\n","import axios from 'axios'\r\nimport axiosRetry from 'axios-retry'\r\nimport {isUndefined, isEmpty} from 'lodash-es'\r\nimport FormatTime from './FormatTime'\r\nimport * as Sentry from '@sentry/browser'\r\n\r\nconst API_KEY = process.env.REACT_APP_DARKSKY_API_KEY\r\nconst CORS_URL = 'https://cors-anywhere.herokuapp.com'\r\n\r\n// Exponential back-off retry delay between requests\r\naxiosRetry(axios, {retryDelay: axiosRetry.exponentialDelay})\r\n\r\nconst getURL = latlong => {\r\n  return `${CORS_URL}/https://api.darksky.net/forecast/${API_KEY}/${latlong}?extend=hourly&exclude=minutely,flags`\r\n}\r\n\r\n/**\r\n * @param {String} latlong (-43.53333,172.63333)\r\n */\r\nconst FetchWeatherData = async ({latlong}) => {\r\n  let weatherCurrent = {}\r\n  let weatherForecast = {}\r\n\r\n  // fetch weather data only when latlong is valid to avoid uneccessary API calls\r\n  if (!isUndefined(latlong) && !isEmpty(latlong)) {\r\n    await axios\r\n      .get(getURL(latlong))\r\n      .then(response => {\r\n        const weatherData = response.data\r\n        if (!isEmpty(weatherData) && !isUndefined(weatherData)) {\r\n          // NOTE: add timezone property to current, days, and timeFrame data to use it later for\r\n          // displaying weatherIcon with day or night variants specific to location timezone\r\n          // parsing sunriseTime & sunsetTime according to the timezone\r\n          const timezone = weatherData.timezone\r\n\r\n          weatherCurrent = {\r\n            timezone,\r\n            ...weatherData.currently\r\n          }\r\n\r\n          // group 168 hours into days as keys in timeFrames\r\n          // group days and timeFrames into weatherForecast\r\n          const timeFrames = {}\r\n          // create date as the keys for timeFrame in timeFrames\r\n          // i.e timeFrames: {'02/28/2020': [{...timeFrame},...], ...}\r\n          weatherData.hourly.data.forEach(hour => {\r\n            const date = FormatTime(hour.time, timezone, 'MM/DD/YYYY')\r\n            if (Object.keys(timeFrames).includes(date)) {\r\n              timeFrames[date].push({timezone, ...hour})\r\n            } else {\r\n              timeFrames[date] = [{timezone, ...hour}]\r\n            }\r\n          })\r\n          const days = {}\r\n          // create date as the keys for the day in days\r\n          // i.e days: {'02/28/2020': {...day}, ...}\r\n          weatherData.daily.data.forEach(day => {\r\n            const date = FormatTime(day.time, timezone, 'MM/DD/YYYY')\r\n            // since there will be unique day objects in days\r\n            // just create a 'date' key with day object as value for as many days\r\n            days[date] = {timezone, ...day}\r\n          })\r\n\r\n          weatherForecast = {timeFrames, days}\r\n        }\r\n      })\r\n      .catch(err => Sentry.captureException(err))\r\n  }\r\n\r\n  return {\r\n    weatherCurrent,\r\n    weatherForecast\r\n  }\r\n}\r\n\r\nexport default FetchWeatherData\r\n","/**\r\n * @param {String} type\r\n * @param {String} value\r\n */\r\nconst emitGA = (type, value) => {\r\n  switch (type) {\r\n    case 'favorites':\r\n      // track selectedFavorite to GA\r\n      Event({\r\n        category: 'Favorites',\r\n        action: 'Select Favorite',\r\n        label: value\r\n      })\r\n      break\r\n    case 'explore-life':\r\n      // track explore life click event to GA\r\n      Event({\r\n        category: 'Explore Life',\r\n        action: 'Click on Explore Life',\r\n        label: value\r\n      })\r\n      break\r\n    case 'powered-by':\r\n      // track explore life click event to GA\r\n      Event({\r\n        category: 'Powered By',\r\n        action: 'Click on Powered By',\r\n        label: value\r\n      })\r\n      break\r\n    default:\r\n      break\r\n  }\r\n}\r\n\r\nexport default emitGA\r\n","import React, {useState, useEffect, useContext, useRef, Fragment} from 'react'\r\nimport {AddressContext} from '../../context/AddressContext'\r\nimport {ThemeContext} from '../../context/ThemeContext'\r\nimport {imageExist, getImageDetails} from '../../utils/ImageDetails'\r\nimport {sortBy, isUndefined, isEmpty} from 'lodash-es'\r\nimport moment from 'moment-timezone'\r\nimport {PropTypes} from 'prop-types'\r\nimport {Event} from '../../utils/ReactAnalytics'\r\n\r\nconst InfoComponent = ({address, latlong, urbanArea, weatherCurrent}) => {\r\n  const {updateFavorites} = useContext(AddressContext)\r\n  const [date, setDate] = useState('')\r\n  const [time, setTime] = useState('')\r\n\r\n  const {colorTheme} = useContext(ThemeContext)\r\n\r\n  // get image details\r\n  const {image, photographer, site, source} = getImageDetails(urbanArea)\r\n\r\n  const imageOverlay = {\r\n    background: 'rgba(0,0,0,0.55)',\r\n    borderTopLeftRadius: '1rem',\r\n    borderTopRightRadius: '1rem'\r\n  }\r\n\r\n  // track image source click event to GA\r\n  const emitImageSourceGA = () => {\r\n    Event({\r\n      category: 'City Image',\r\n      action: 'Click on Image Source',\r\n      label: 'Image source'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * track select favorite click event to GA\r\n   * @param {String} type (add or remove)\r\n   * @param {String} favoriteCity (name)\r\n   */\r\n  const emitFavoriteCityGA = (type, favoriteCity) => {\r\n    Event({\r\n      category: 'Favorite City',\r\n      action: `${type} city`,\r\n      label: favoriteCity\r\n    })\r\n  }\r\n\r\n  // store formattedDateTime moment date object in the ref and update it for the first api call fetch\r\n  // this ref will be used to update date and time every second without making additional api calls\r\n  const formattedDateTimeRef = useRef()\r\n\r\n  const isBookmarked = () => {\r\n    if (localStorage.getItem('favorites')) {\r\n      const favorites = JSON.parse(localStorage.getItem('favorites'))\r\n      const matched = favorites.filter(\r\n        favorite => favorite.address.cityName === address.cityName\r\n      )\r\n      return matched.length > 0\r\n    }\r\n    return false\r\n  }\r\n\r\n  const favoritesHandler = () => {\r\n    // first ever favorite item stored in localStorage\r\n    if (!localStorage.getItem('favorites')) {\r\n      localStorage.setItem(\r\n        'favorites',\r\n        JSON.stringify([{address, latlong, urbanArea}])\r\n      )\r\n      emitFavoriteCityGA('add', address.cityName)\r\n      updateFavorites({\r\n        favorites: [{address, latlong, urbanArea}]\r\n      })\r\n    } else {\r\n      const favorites = JSON.parse(localStorage.getItem('favorites'))\r\n      // sort favorites by cityName\r\n      const sortedFavorites = sortBy(\r\n        [...favorites, {address, latlong, urbanArea}],\r\n        ['address.cityName']\r\n      )\r\n      const duplicates = favorites.filter(\r\n        favorite => favorite.address.cityName === address.cityName\r\n      )\r\n      if (!duplicates.length) {\r\n        localStorage.setItem('favorites', JSON.stringify(sortedFavorites))\r\n        emitFavoriteCityGA('add', address.cityName)\r\n        updateFavorites({\r\n          favorites: sortedFavorites\r\n        })\r\n      } else {\r\n        // remove it from favorites\r\n        const removeIndex = favorites.findIndex(\r\n          favorite =>\r\n            favorite.address.cityName === duplicates[0].address.cityName\r\n        )\r\n        if (removeIndex !== -1) {\r\n          // sort the new favorites array by cityName\r\n          const newFavorites = sortBy([...favorites], ['address.cityName'])\r\n          newFavorites.splice(removeIndex, 1)\r\n          localStorage.setItem('favorites', JSON.stringify(newFavorites))\r\n          emitFavoriteCityGA('remove', address.cityName)\r\n          updateFavorites({\r\n            favorites: newFavorites\r\n          })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // format and set date & time based on the dateObj\r\n  const datetimeSetter = dateObj => {\r\n    setDate(!isUndefined(dateObj) ? dateObj.format('MMMM Do, YYYY') : '')\r\n    setTime(!isUndefined(dateObj) ? dateObj.format('dddd h:mm A') : '')\r\n    formattedDateTimeRef.current = dateObj ? dateObj : null\r\n  }\r\n\r\n  useEffect(() => {\r\n    // reset date & time whenever weatherCurrent change\r\n    datetimeSetter(\r\n      moment(weatherCurrent.time * 1000).tz(weatherCurrent.timezone)\r\n    )\r\n\r\n    const dateTimer = setInterval(() => {\r\n      if (weatherCurrent.time) {\r\n        // update date and time every second only when there is a valid timestamp\r\n        const formattedDateTimeObj = moment\r\n          .tz(formattedDateTimeRef.current, weatherCurrent.timezone)\r\n          .add(1, 's')\r\n        datetimeSetter(formattedDateTimeObj)\r\n      }\r\n    }, 1000)\r\n    return () => {\r\n      clearInterval(dateTimer)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [weatherCurrent])\r\n\r\n  return (\r\n    <div className='relative'>\r\n      <div>\r\n        {imageExist(urbanArea) ? (\r\n          <Fragment>\r\n            <img\r\n              src={image.mobile}\r\n              alt='city'\r\n              className='block sm:hidden h-40 w-full object-cover object-center rounded-t-2xl'\r\n            />\r\n            <img\r\n              src={image.web}\r\n              alt='city'\r\n              className='hidden sm:block sm:h-32 md:h-24 xl:h-32 w-full object-cover object-center rounded-t-2xl'\r\n            />\r\n          </Fragment>\r\n        ) : null}\r\n      </div>\r\n      <div\r\n        className={`${\r\n          imageExist(urbanArea)\r\n            ? 'absolute top-0 left-0 right-0 bottom-0 text-light'\r\n            : `text-${colorTheme}`\r\n        }`}\r\n        style={imageExist(urbanArea) ? imageOverlay : null}>\r\n        <div className='flex justify-between items-start'>\r\n          <div className='pt-4 px-4'>\r\n            <p\r\n              className={`font-bold ${\r\n                imageExist(urbanArea) ? 'sm:text-2xl' : ''\r\n              }`}>\r\n              {address.cityName}\r\n            </p>\r\n            <div\r\n              className={`sm:flex-col md:flex md:flex-row ${\r\n                imageExist(urbanArea) ? 'font-medium' : 'font-light'\r\n              }`}>\r\n              {!isEmpty(date) && !isEmpty(time) ? (\r\n                <Fragment>\r\n                  <p>\r\n                    {date}\r\n                    <span className='invisible md:visible'>&nbsp;|&nbsp;</span>\r\n                  </p>\r\n                  <p>{time}</p>\r\n                </Fragment>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className='mt-6 mr-4 cursor-pointer text-xl'\r\n            title={\r\n              isBookmarked()\r\n                ? 'Remove this city from favorites'\r\n                : 'Favorite this city'\r\n            }\r\n            onClick={favoritesHandler}>\r\n            {isBookmarked() ? (\r\n              <i className='icon-heart'></i>\r\n            ) : (\r\n              <i className='icon-heart-empty'></i>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className='hidden md:block text-right bottom-0 right-0 xl:mt-8 px-2'>\r\n          {photographer && site ? (\r\n            <p className='font-light' style={{fontSize: '0.5rem'}}>\r\n              Photo by&nbsp;\r\n              <span className='font-medium'>{photographer}</span>\r\n              &nbsp;on&nbsp;\r\n              <a\r\n                className='link z-0 font-medium hover:no-underline hover:font-medium hover:text-light'\r\n                href={source}\r\n                target='_blank'\r\n                rel='noreferrer noopener'\r\n                onClick={emitImageSourceGA}>\r\n                {site}\r\n              </a>\r\n            </p>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoComponent\r\n\r\nInfoComponent.propTypes = {\r\n  address: PropTypes.objectOf(PropTypes.string),\r\n  latlong: PropTypes.string,\r\n  urbanArea: PropTypes.object,\r\n  weatherCurrent: PropTypes.object\r\n}\r\n","/**\r\n * @param {Number} deg\r\n */\r\nconst getWindDirection = deg => {\r\n  if (deg >= 0 && deg <= 45) {\r\n    return 'up'\r\n  } else if (deg >= 46 && deg <= 90) {\r\n    return 'up-right'\r\n  } else if (deg >= 91 && deg <= 135) {\r\n    return 'right'\r\n  } else if (deg >= 136 && deg <= 180) {\r\n    return 'down-right'\r\n  } else if (deg >= 181 && deg <= 225) {\r\n    return 'down'\r\n  } else if (deg >= 226 && deg <= 270) {\r\n    return 'down-left'\r\n  } else if (deg >= 271 && deg <= 315) {\r\n    return 'left'\r\n  } else {\r\n    return 'up-left'\r\n  }\r\n}\r\n\r\nexport default getWindDirection\r\n","import React, {Fragment, useContext} from 'react'\r\nimport {WeatherUnitContext} from '../../context/WeatherUnitContext'\r\nimport getWindDirection from '../../utils/WindDirection'\r\nimport getWeatherIcon from '../../utils/WeatherIcon'\r\nimport {mToK} from '../../utils/SpeedConvert'\r\nimport {fToC} from '../../utils/TemperatureConvert'\r\nimport {PropTypes} from 'prop-types'\r\nimport {Event} from '../../utils/ReactAnalytics'\r\n\r\nconst InfoDetailComponent = ({weatherCurrent}) => {\r\n  const {weatherUnit, updateWeatherUnit} = useContext(WeatherUnitContext)\r\n\r\n  const unitClick = unit => {\r\n    // track event to GA\r\n    Event({\r\n      category: 'Weather Unit',\r\n      action: 'Set Unit',\r\n      label: unit\r\n    })\r\n    updateWeatherUnit(unit)\r\n  }\r\n\r\n  /**\r\n   * type can be `temperature` or `apparentTemperature`\r\n   * @param {String} type\r\n   */\r\n  const computedTempValue = type => {\r\n    return weatherUnit === 'F'\r\n      ? Math.round(weatherCurrent[`${type}`])\r\n      : fToC(weatherCurrent[`${type}`])\r\n  }\r\n\r\n  const computedSpeedValue = () => {\r\n    return weatherUnit === 'F'\r\n      ? `${Math.round(weatherCurrent.windSpeed)} mph`\r\n      : `${mToK(weatherCurrent.windSpeed)} kmph`\r\n  }\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className='sm:flex-col md:flex md:flex-row justify-between mt-5 mb-5 px-4'>\r\n        <div className='flex-col sm:w-full lg:w-1/2'>\r\n          <div className='flex flex-row items-center'>\r\n            <div>\r\n              <i\r\n                className={`wi wi-${getWeatherIcon(\r\n                  weatherCurrent.icon,\r\n                  weatherCurrent.timezone\r\n                )} text-5xl mt-3 mr-2 mx-3`}\r\n                title={weatherCurrent.summary}></i>\r\n            </div>\r\n            <div className='flex justify-start items-center ml-3'>\r\n              <div>\r\n                <span className='text-5xl font-bold'>\r\n                  {computedTempValue('temperature')}\r\n                </span>\r\n              </div>\r\n              <div className='-mt-8 mx-2 text-sm'>\r\n                <sup>o</sup>\r\n                <span\r\n                  className={`cursor-pointer ${\r\n                    weatherUnit === 'F' ? 'font-bold underline' : 'font-light'\r\n                  }`}\r\n                  onClick={() => unitClick('F')}>\r\n                  F\r\n                </span>\r\n                <span className='mx-1'>|</span>\r\n                <sup>o</sup>\r\n                <span\r\n                  className={`cursor-pointer ${\r\n                    weatherUnit === 'C' ? 'font-bold underline' : 'font-light'\r\n                  }`}\r\n                  onClick={() => unitClick('C')}>\r\n                  C\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <p className='font-medium ml-3 capitalize'>\r\n            {weatherCurrent.summary}\r\n          </p>\r\n        </div>\r\n        <div className='mt-6 ml-3 sm:mt-1 sm:w-full lg:w-1/2'>\r\n          <p>\r\n            <span className='font-light'>Humidity:</span>&nbsp;\r\n            {Math.round(weatherCurrent.humidity)}%\r\n          </p>\r\n          <div className='flex items-center'>\r\n            <p>\r\n              <span className='font-light'>Wind:</span>&nbsp;\r\n              {computedSpeedValue()}{' '}\r\n            </p>\r\n            <p>\r\n              <i\r\n                className={`mx-2 mt-2 text-3xl wi wi-direction-${getWindDirection(\r\n                  weatherCurrent.windBearing\r\n                )}`}></i>\r\n            </p>\r\n          </div>\r\n          <p>\r\n            <span className='font-light'>Feels like:</span>&nbsp;\r\n            {computedTempValue('apparentTemperature')}\r\n            <sup>o</sup>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default InfoDetailComponent\r\n\r\nInfoDetailComponent.propTypes = {\r\n  weatherCurrent: PropTypes.object\r\n}\r\n","const mToK = speed => {\r\n  return Math.round(speed * 1.6)\r\n}\r\n\r\nconst kToM = speed => {\r\n  return Math.round(speed * 0.6)\r\n}\r\n\r\nexport {mToK, kToM}\r\n","import React, {Fragment} from 'react'\r\nimport InfoComponent from '../../components/weather/InfoComponent'\r\nimport InfoDetailComponent from '../../components/weather/InfoDetailComponent'\r\nimport LoaderComponent from './../../components/loader/LoaderComponent'\r\nimport ErrorBoundaryContainer from '../error-boundary/ErrorBoundaryContainer'\r\nimport {PropTypes} from 'prop-types'\r\n\r\nconst CurrentWeatherContainer = ({\r\n  weatherCurrent,\r\n  address,\r\n  latlong,\r\n  urbanArea\r\n}) => {\r\n  return (\r\n    <ErrorBoundaryContainer>\r\n      <Fragment>\r\n        {address && weatherCurrent ? (\r\n          <div>\r\n            <InfoComponent\r\n              address={address}\r\n              latlong={latlong}\r\n              urbanArea={urbanArea}\r\n              weatherCurrent={weatherCurrent}\r\n            />\r\n            <InfoDetailComponent weatherCurrent={weatherCurrent} />\r\n          </div>\r\n        ) : (\r\n          <LoaderComponent />\r\n        )}\r\n      </Fragment>\r\n    </ErrorBoundaryContainer>\r\n  )\r\n}\r\n\r\nexport default CurrentWeatherContainer\r\n\r\nCurrentWeatherContainer.propTypes = {\r\n  address: PropTypes.objectOf(PropTypes.string),\r\n  latlong: PropTypes.string,\r\n  urbanArea: PropTypes.object,\r\n  weatherCurrent: PropTypes.object\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {WeatherUnitContext} from '../../context/WeatherUnitContext'\r\nimport {ThemeContext} from '../../context/ThemeContext'\r\nimport {fToC} from '../../utils/TemperatureConvert'\r\nimport getWeatherIcon from '../../utils/WeatherIcon'\r\nimport FormatTime from './../../utils/FormatTime'\r\nimport {PropTypes} from 'prop-types'\r\n\r\nconst DayComponent = props => {\r\n  const {day, index, selectedIndex} = props\r\n  const {weatherUnit} = useContext(WeatherUnitContext)\r\n  const {theme, colorTheme} = useContext(ThemeContext)\r\n\r\n  /**\r\n   * type can be 'High' or 'Low'\r\n   * @param {String} type\r\n   */\r\n  const computedTempValue = type => {\r\n    return weatherUnit === 'F'\r\n      ? Math.round(day[`temperature${type}`])\r\n      : fToC(day[`temperature${type}`])\r\n  }\r\n\r\n  const selectedDay = () => {\r\n    props.selectedDay({day})\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`sm:border-t sm:border-r sm:border-b-0 sm:border-l-0 sm:border-${colorTheme} sm:hover:bg-${colorTheme} sm:hover:text-${theme} items-center text-center flex-1 py-1 pb-3 cursor-pointer ${\r\n        index === selectedIndex ? `sm:bg-${colorTheme} sm:text-${theme}` : ''\r\n      } transition-colors duration-1000 ease-in-out`}\r\n      onClick={selectedDay}>\r\n      <p className='font-medium'>{FormatTime(day.time, day.timezone, 'ddd')}</p>\r\n      <i\r\n        title={day.summary}\r\n        className={`mt-1 mb-3 mx-auto text-2xl wi wi-${getWeatherIcon(\r\n          day.icon,\r\n          day.timezone\r\n        )}`}></i>\r\n      <div className='flex flex-row justify-center items-center font-light'>\r\n        <p className='mx-2 text-sm'>\r\n          {computedTempValue('High')}\r\n          <sup>o</sup>\r\n        </p>\r\n        <p className='mx-2 text-xs'>\r\n          {computedTempValue('Low')}\r\n          <sup>o</sup>\r\n        </p>\r\n      </div>\r\n      <div className='flex flex-row justify-center sm:flex-col font-light mt-1'>\r\n        <div className='flex flex-row justify-center items-center mx-2'>\r\n          <i\r\n            className='text-sm wi wi-sunrise text-sun mr-2'\r\n            title='sunrise'></i>\r\n          <p className='text-sm'>\r\n            {FormatTime(day.sunriseTime, day.timezone, 'h:mm')}\r\n          </p>\r\n        </div>\r\n        <div className='flex flex-row justify-center items-center mx-2'>\r\n          <i className='text-sm wi wi-sunset text-sun mr-1' title='sunset'></i>\r\n          <p className='text-sm'>\r\n            {FormatTime(day.sunsetTime, day.timezone, 'HH:mm')}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DayComponent\r\n\r\nDayComponent.propTypes = {\r\n  day: PropTypes.object,\r\n  selectedDay: PropTypes.func,\r\n  index: PropTypes.string,\r\n  selectedIndex: PropTypes.string\r\n}\r\n","import React, {useContext} from 'react'\r\nimport {WeatherUnitContext} from '../../context/WeatherUnitContext'\r\nimport {ThemeContext} from '../../context/ThemeContext'\r\nimport {fToC} from '../../utils/TemperatureConvert'\r\nimport getWeatherIcon from '../../utils/WeatherIcon'\r\nimport FormatTime from './../../utils/FormatTime'\r\nimport {PropTypes} from 'prop-types'\r\n\r\nconst TimeframeComponent = ({Timeframe}) => {\r\n  const {weatherUnit} = useContext(WeatherUnitContext)\r\n  const {theme} = useContext(ThemeContext)\r\n\r\n  /**\r\n   * type can be `temperature` or `apparentTemperature`\r\n   * @param {String} type\r\n   */\r\n  const computedTempValue = type => {\r\n    return weatherUnit === 'F'\r\n      ? Math.round(Timeframe[`${type}`])\r\n      : fToC(Timeframe[`${type}`])\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`border-none flex flex-col justify-start items-center mx-3 mb-3 pt-2 w-full font-light text-${\r\n        theme === 'light' ? 'dark' : 'light'\r\n      }`}>\r\n      <i\r\n        title={Timeframe.summary}\r\n        className={`wi wi-${getWeatherIcon(\r\n          Timeframe.icon,\r\n          Timeframe.timezone\r\n        )} text-2xl my-1`}></i>\r\n      <p className='text-xl'>\r\n        {computedTempValue('temperature')}\r\n        <sup>o</sup>\r\n      </p>\r\n      <p className='text-sm'>\r\n        {computedTempValue('apparentTemperature')}\r\n        <sup>o</sup>\r\n      </p>\r\n      <p className='text-sm font-medium'>\r\n        {FormatTime(Timeframe.time, Timeframe.timezone, 'h:mm A')}\r\n      </p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TimeframeComponent\r\n\r\nTimeframeComponent.propTypes = {\r\n  Timeframe: PropTypes.object\r\n}\r\n","import React, {useState, useEffect, Fragment} from 'react'\r\nimport {isEmpty, isUndefined} from 'lodash-es'\r\nimport Carousel from 'nuka-carousel'\r\nimport DayComponent from '../../components/weather/DayComponent'\r\nimport TimeframeComponent from '../../components/weather/TimeframeComponent'\r\nimport LoaderComponent from '../../components/loader/LoaderComponent'\r\nimport CarouselSettings from '../../utils/CarouselSettings'\r\nimport ErrorComponent from './../../components/error/ErrorComponent'\r\nimport ErrorBoundaryContainer from '../error-boundary/ErrorBoundaryContainer'\r\nimport FormatTime from './../../utils/FormatTime'\r\nimport {PropTypes} from 'prop-types'\r\n\r\nconst ForecastContainer = ({cityName, weatherCurrent, weatherForecast}) => {\r\n  const [selectedDay, setSelectedDay] = useState('')\r\n  const {time, timezone} = weatherCurrent\r\n\r\n  // set the selectedDay to the current day by fetching current city date from weatherCurrent timestamp\r\n  const updateSelectedDay = async () => {\r\n    // show forecast elements when formattedDateTime is not an empty string & an error message starting with Failed\r\n    if (!isUndefined(weatherCurrent.time)) {\r\n      const today = FormatTime(time, timezone, 'MM/DD/YYYY')\r\n      // check if today key exist in days\r\n      if (!isEmpty(weatherForecast) && !isUndefined(weatherForecast)) {\r\n        setSelectedDay(weatherForecast.days[today] ? today : '')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * day is a date '02/28/2020'\r\n   * @param {String} day\r\n   */\r\n  const daySelectHandler = day => {\r\n    setSelectedDay(day)\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateSelectedDay()\r\n    // eslint-disable-next-line\r\n  }, [weatherForecast])\r\n\r\n  return (\r\n    <ErrorBoundaryContainer>\r\n      <Fragment>\r\n        {!isEmpty(weatherForecast.days) && !isEmpty(selectedDay) ? (\r\n          <Fragment>\r\n            {/* mobile */}\r\n            <div className='sm:hidden py-3 sm:mb-3'>\r\n              {weatherForecast.timeFrames[selectedDay] ? (\r\n                <Carousel {...CarouselSettings('time')}>\r\n                  {weatherForecast.timeFrames[selectedDay].map(\r\n                    (Timeframe, index) => {\r\n                      return (\r\n                        <TimeframeComponent Timeframe={Timeframe} key={index} />\r\n                      )\r\n                    }\r\n                  )}\r\n                </Carousel>\r\n              ) : (\r\n                <ErrorComponent\r\n                  errorMessage={`No hourly forecast available for ${selectedDay}`}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            {/* tablet and above devices */}\r\n            <div className='hidden sm:flex py-3 sm:mb-3'>\r\n              {weatherForecast.timeFrames[selectedDay] ? (\r\n                <Carousel {...CarouselSettings('time', 'tablet')}>\r\n                  {weatherForecast.timeFrames[selectedDay].map(\r\n                    (Timeframe, index) => {\r\n                      return (\r\n                        <TimeframeComponent Timeframe={Timeframe} key={index} />\r\n                      )\r\n                    }\r\n                  )}\r\n                </Carousel>\r\n              ) : (\r\n                <ErrorComponent\r\n                  errorMessage={`No hourly forecast available for ${selectedDay}`}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            {/* mobile */}\r\n            <div className='sm:hidden py-3'>\r\n              <Carousel\r\n                {...CarouselSettings('day')}\r\n                slideIndex={Object.keys(weatherForecast.days).indexOf(\r\n                  selectedDay\r\n                )}\r\n                afterSlide={slideIndex =>\r\n                  daySelectHandler(\r\n                    Object.keys(weatherForecast.days)[slideIndex]\r\n                  )\r\n                }>\r\n                {Object.keys(weatherForecast.days).map((day, index) => {\r\n                  return (\r\n                    <DayComponent\r\n                      day={weatherForecast.days[day]}\r\n                      key={index}\r\n                      index={day}\r\n                      selectedIndex={selectedDay}\r\n                      selectedDay={() => daySelectHandler(day)}\r\n                    />\r\n                  )\r\n                })}\r\n              </Carousel>\r\n            </div>\r\n            {/* table and above devices */}\r\n            <div className={`hidden sm:flex w-full rounded sm:visible`}>\r\n              {Object.keys(weatherForecast.days).map((day, index) => {\r\n                // day is key in weatherForecast.days -> '02/28/2020'\r\n                // index is the position of key -> 0\r\n                return (\r\n                  <DayComponent\r\n                    day={weatherForecast.days[day]}\r\n                    key={index}\r\n                    index={day}\r\n                    selectedIndex={selectedDay}\r\n                    selectedDay={() => daySelectHandler(day)}\r\n                  />\r\n                )\r\n              })}\r\n            </div>\r\n          </Fragment>\r\n        ) : (\r\n          <div className='mb-3'>\r\n            {isEmpty(weatherForecast.days) ? (\r\n              <ErrorComponent\r\n                errorMessage={'No forecast data available for this city!'}\r\n                showCloseBtn={false}\r\n              />\r\n            ) : (\r\n              <LoaderComponent\r\n                loaderText={`Fetching 7 days weather forecast for ${cityName}`}\r\n              />\r\n            )}\r\n          </div>\r\n        )}\r\n      </Fragment>\r\n    </ErrorBoundaryContainer>\r\n  )\r\n}\r\n\r\nexport default ForecastContainer\r\n\r\nForecastContainer.propTypes = {\r\n  cityName: PropTypes.string,\r\n  weatherCurrent: PropTypes.object,\r\n  weatherForecast: PropTypes.object\r\n}\r\n","import React, {useContext, Fragment} from 'react'\r\nimport {imageExist, getImageDetails} from '../../utils/ImageDetails'\r\nimport {ThemeContext} from '../../context/ThemeContext'\r\nimport {PropTypes} from 'prop-types'\r\n\r\n// get image details\r\nconst getImage = urbanArea => {\r\n  const {image} = getImageDetails(urbanArea)\r\n  return image\r\n}\r\nconst imageOverlay = {\r\n  background: 'rgba(0,0,0,0.55)',\r\n  borderTopLeftRadius: '1rem',\r\n  borderTopRightRadius: '1rem'\r\n}\r\n\r\nconst FavoriteComponent = ({favorite, favoriteSelected}) => {\r\n  const {theme, colorTheme} = useContext(ThemeContext)\r\n  return (\r\n    <div className='relative w-full h-16'>\r\n      {imageExist(favorite.urbanArea) ? (\r\n        <Fragment>\r\n          <img\r\n            src={getImage(favorite.urbanArea).web}\r\n            alt='city'\r\n            className='h-full w-full object-cover object-center rounded-2xl'\r\n          />\r\n        </Fragment>\r\n      ) : null}\r\n      <div\r\n        className={`${\r\n          imageExist(favorite.urbanArea)\r\n            ? 'absolute top-0 left-0 right-0 bottom-0 text-light'\r\n            : `h-16 text-${colorTheme} border border-${colorTheme} bg-${theme} text-${colorTheme} hover:bg-${colorTheme} hover:text-${theme}`\r\n        } pt-5 lg:pt-1/2 font-semibold rounded-2xl shadow-lg cursor-pointer text-center justify-center`}\r\n        style={imageExist(favorite.urbanArea) ? imageOverlay : null}\r\n        onClick={favoriteSelected}>\r\n        {favorite.address.cityName.split(', ')[0]}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default FavoriteComponent\r\n\r\nFavoriteComponent.propTypes = {\r\n  favorite: PropTypes.object,\r\n  favoriteSelected: PropTypes.func\r\n}\r\n","import React, {useState, useContext, useEffect, useRef, Fragment} from 'react'\r\nimport {AddressContext} from '../../context/AddressContext'\r\nimport CurrentWeatherContainer from '../current-weather/CurrentWeatherContainer'\r\nimport ForecastContainer from '../forecast/ForecastContainer'\r\nimport FetchWeatherData from './../../utils/FetchWeatherData'\r\nimport {isUndefined, isEmpty} from 'lodash-es'\r\nimport Carousel from 'nuka-carousel'\r\nimport CarouselSettings from '../../utils/CarouselSettings'\r\nimport {ThemeContext} from '../../context/ThemeContext'\r\nimport FavoriteComponent from '../../components/favorite/FavoriteComponent'\r\nimport LoaderComponent from '../../components/loader/LoaderComponent'\r\nimport ErrorComponent from '../../components/error/ErrorComponent'\r\nimport * as Sentry from '@sentry/browser'\r\nimport emitGA from '../../utils/MiscTrackEvents'\r\n\r\nconst FavoritesContainer = () => {\r\n  const {favorites} = useContext(AddressContext)\r\n  const {theme, colorTheme} = useContext(ThemeContext)\r\n  const [selectedFavorite, setSelectedFavorite] = useState({})\r\n  const [favoriteWeather, setFavoriteWeather] = useState({})\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [slideIndex, setSlideIndex] = useState(0)\r\n  const weatherRef = useRef(null)\r\n\r\n  // scroll to weather component when selectedFavorite is set\r\n  const scrollToRef = ref => window.scrollTo(0, ref.current.offsetTop)\r\n\r\n  // check whether the cityName is valid\r\n  const validCityName = () => {\r\n    if (!isEmpty(selectedFavorite) && !isUndefined(selectedFavorite)) {\r\n      return (\r\n        !isEmpty(selectedFavorite.address.cityName) &&\r\n        !isUndefined(selectedFavorite.address.cityName)\r\n      )\r\n    }\r\n    return false\r\n  }\r\n\r\n  const selectFavoriteHandler = index => {\r\n    if (favorites[index]) {\r\n      emitGA('favorites', favorites[index].address.cityName)\r\n      setSelectedFavorite({...favorites[index]})\r\n    }\r\n    setSlideIndex(index)\r\n  }\r\n\r\n  const fetchWeatherData = async () => {\r\n    if (\r\n      !isUndefined(selectedFavorite) &&\r\n      Object.keys(selectedFavorite).length\r\n    ) {\r\n      setIsLoading(true)\r\n      await FetchWeatherData(selectedFavorite)\r\n        .then(response => {\r\n          // set favoriteWeather only when the data is non-empty\r\n          if (!isEmpty(response) && !isUndefined(response)) {\r\n            setFavoriteWeather(state => ({...state, ...response}))\r\n            scrollHandler()\r\n          }\r\n        })\r\n        .catch(err => Sentry.captureException(err))\r\n        .finally(() => setIsLoading(false))\r\n    }\r\n  }\r\n\r\n  const scrollHandler = () => {\r\n    scrollToRef(weatherRef)\r\n  }\r\n\r\n  useEffect(() => {\r\n    fetchWeatherData()\r\n    const timer = setInterval(() => {\r\n      fetchWeatherData()\r\n    }, 3600000)\r\n    return () => {\r\n      clearInterval(timer)\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [selectedFavorite])\r\n\r\n  return (\r\n    <Fragment>\r\n      {favorites.length > 0 ? (\r\n        <div className={`bg-${theme} pt-10 pb-24 mb-0`}>\r\n          <p className={`text-center font-bold text-2xl text-${colorTheme}`}>\r\n            Favorites\r\n          </p>\r\n          {/* mobile */}\r\n          <div className='sm:hidden px-5 py-5'>\r\n            <Carousel\r\n              {...CarouselSettings('favorite')}\r\n              slideIndex={slideIndex}\r\n              afterSlide={slideIndex => selectFavoriteHandler(slideIndex)}>\r\n              {favorites.map((favorite, index) => {\r\n                return (\r\n                  <FavoriteComponent\r\n                    key={favorite.latlong}\r\n                    favorite={favorite}\r\n                    favoriteSelected={() => selectFavoriteHandler(index)}\r\n                  />\r\n                )\r\n              })}\r\n            </Carousel>\r\n          </div>\r\n          {/* tablet and above devices */}\r\n          <div className='hidden sm:flex justify-center items-center'>\r\n            <div className='sm:w-5/6 xl:max-w-6xl px-5 py-5'>\r\n              <div className='flex sm:flex-row flex-wrap justify-center'>\r\n                {favorites.map((favorite, index) => {\r\n                  return (\r\n                    <div\r\n                      className='m-2 sm:w-1/2 md:w-1/4'\r\n                      key={favorite.latlong}>\r\n                      <FavoriteComponent\r\n                        key={favorite.latlong}\r\n                        favorite={favorite}\r\n                        favoriteSelected={() => selectFavoriteHandler(index)}\r\n                      />\r\n                    </div>\r\n                  )\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* \r\n            TODO: utilize weather container here instead of code repeat\r\n          */}\r\n          <div ref={weatherRef}>\r\n            {!isEmpty(favoriteWeather.weatherCurrent) &&\r\n            !isUndefined(favoriteWeather.weatherCurrent) ? (\r\n              <Fragment>\r\n                <div className='flex justify-center px-5 pt-10'>\r\n                  <div\r\n                    className={`sm:w-full lg:w-5/6 xl:max-w-6xl border border-${colorTheme} bg-{theme} text-${colorTheme} rounded-t-2xl shadow-lg`}>\r\n                    <CurrentWeatherContainer\r\n                      weatherCurrent={favoriteWeather.weatherCurrent}\r\n                      address={selectedFavorite.address}\r\n                      latlong={selectedFavorite.latlong}\r\n                      urbanArea={selectedFavorite.urbanArea}\r\n                    />\r\n                    <ForecastContainer\r\n                      cityName={selectedFavorite.address.cityName}\r\n                      weatherCurrent={favoriteWeather.weatherCurrent}\r\n                      weatherForecast={favoriteWeather.weatherForecast}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <p\r\n                  className={`mx-auto text-center pt-2 pb-10 text-xs font-light text-${colorTheme} bg-${theme}`}>\r\n                  Powered by&nbsp;\r\n                  <a\r\n                    href='https://darksky.net/poweredby/'\r\n                    target='_blank'\r\n                    rel='noreferrer noopener'\r\n                    className={`link z-0 font-medium hover:text-${theme}`}\r\n                    onClick={() => emitGA('powered-by', 'Dark Sky')}>\r\n                    Dark Sky\r\n                  </a>\r\n                </p>\r\n                <div className={`bg-${theme}`}>\r\n                  {selectedFavorite.urbanArea.slug ? (\r\n                    <div className='mx-auto text-center pb-5'>\r\n                      <p>\r\n                        <a\r\n                          href={`https://teleport.org/cities/${selectedFavorite.urbanArea.slug}`}\r\n                          target='_blank'\r\n                          rel='noreferrer noopener'\r\n                          className='hover:no-underline'\r\n                          onClick={() =>\r\n                            emitGA(\r\n                              'explore-life',\r\n                              selectedFavorite.urbanArea.name\r\n                            )\r\n                          }>\r\n                          <button\r\n                            className={`bg-${colorTheme} text-${theme} font-semibold py-3 px-6 rounded-full capitalize`}>\r\n                            Explore life in {selectedFavorite.urbanArea.name}\r\n                          </button>\r\n                        </a>\r\n                      </p>\r\n                      <p\r\n                        className={`py-1 text-xs font-light text-${colorTheme}`}>\r\n                        Powered by&nbsp;\r\n                        <a\r\n                          href='https://teleport.org/'\r\n                          target='_blank'\r\n                          rel='noreferrer noopener'\r\n                          className={`link z-0 font-medium hover:text-${theme}`}\r\n                          onClick={() => emitGA('powered-by', 'Teleport')}>\r\n                          Teleport\r\n                        </a>\r\n                      </p>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n              </Fragment>\r\n            ) : (\r\n              <Fragment>\r\n                {isLoading ? (\r\n                  <LoaderComponent\r\n                    loaderText={`Fetching weather forecast ${\r\n                      validCityName()\r\n                        ? `for ${selectedFavorite.address.cityName}`\r\n                        : ''\r\n                    } 😎`}\r\n                  />\r\n                ) : (\r\n                  <div>\r\n                    {validCityName() ? (\r\n                      // show error component only when selectedFavorite cityName is valid\r\n                      // since by default on component load, selectedFavorite is empty\r\n                      // this extra check will hide error and show only when api call fetch fail for selectedFavorite\r\n                      <div className='flex justify-center'>\r\n                        <div className='sm:w-full lg:w-2/3 xl:w-1/2'>\r\n                          <ErrorComponent\r\n                            errorMessage={`Something went wrong. Failed to fetch weather forecast ${\r\n                              validCityName()\r\n                                ? `for ${selectedFavorite.address.cityName}`\r\n                                : ''\r\n                            }! 😢`}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                    ) : null}\r\n                  </div>\r\n                )}\r\n              </Fragment>\r\n            )}\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default FavoritesContainer\r\n","import moment from 'moment-timezone'\r\n\r\n/**\r\n * @param {Number} timestamp\r\n * @param {String} timezone\r\n */\r\nconst FormatTime = (timestamp, timezone, formatType) => {\r\n  return moment.tz(timestamp * 1000, timezone).format(formatType)\r\n}\r\n\r\nexport default FormatTime\r\n","const fToC = temp => {\r\n  return Math.round(((temp - 32) * 5) / 9)\r\n}\r\n\r\nconst cToF = temp => {\r\n  return Math.round((temp * 9) / 5 + 32)\r\n}\r\n\r\nexport {fToC, cToF}\r\n","import moment from 'moment-timezone'\r\n\r\n/**\r\n *\r\n * @param {String} code (cloudy)\r\n * @param {String} timezone (Pacific/Auckland)\r\n */\r\nconst getWeatherIcon = (code, timezone) => {\r\n  const hour = moment()\r\n    .tz(timezone)\r\n    .format('H')\r\n  const type = hour >= 6 && hour < 18 ? 'day' : 'night-alt'\r\n  if (code) {\r\n    switch (code) {\r\n      case 'clear-day':\r\n        return 'day-sunny'\r\n      case 'clear-night':\r\n        return 'night-clear'\r\n      case 'rain':\r\n        return `${type}-rain`\r\n      case 'snow':\r\n        return `${type}-snow`\r\n      case 'sleet':\r\n        return `${type}-sleet`\r\n      case 'wind':\r\n        return `${type === 'night-alt' ? 'night-alt-cloudy' : 'day'}-windy`\r\n      case 'fog':\r\n        return type === 'day' ? 'day-fog' : 'night-fog'\r\n      case 'cloudy':\r\n        return 'cloudy'\r\n      case 'partly-cloudy-day':\r\n        return 'day-cloudy'\r\n      case 'partly-cloudy-night':\r\n        return 'night-alt-cloudy'\r\n      case 'hail':\r\n        return `${type}-hail`\r\n      case 'thunderstorm':\r\n        return `${type}-thunderstorm`\r\n      case 'tornado':\r\n        return 'tornado'\r\n      default:\r\n        return 'na'\r\n    }\r\n  }\r\n  return 'na'\r\n}\r\n\r\nexport default getWeatherIcon\r\n"],"sourceRoot":""}