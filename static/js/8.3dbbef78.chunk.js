(this["webpackJsonpweather-react"]=this["webpackJsonpweather-react"]||[]).push([[8],{173:function(e,t,a){"use strict";a.r(t);var c=a(24),n=a.n(c),r=a(131),s=a(51),l=a(1),o=a.n(l),i=a(123),u=a(138),d=a(170),m=a(119),f=a(120),b=a(171),j=a(142),O=a(139),v=a(14),h=function(e){var t=e.favorite,a=e.favoriteSelected,c=e.index,n=e.selectedIndex,r=Object(l.useContext)(v.a),s=r.theme,i=r.colorTheme;return o.a.createElement("div",{className:"h-16 text-".concat(i," bg-").concat(s," hover:bg-").concat(i," hover:text-").concat(s," border ").concat(c===n?"sm:border-teal-600":"sm:border-".concat(i),"\n        } pt-5 lg:pt-1/2 font-semibold rounded-2xl cursor-pointer text-center justify-center"),onClick:a},t.address.cityName.split(", ")[0])},x=a(143),w=a(50),p=a(122),g=a(9),E=a(141);t.default=function(){var e=Object(l.useContext)(i.a).favorites,t=Object(l.useContext)(v.a),a=t.theme,c=t.colorTheme,y=Object(l.useState)({}),N=Object(s.a)(y,2),k=N[0],C=N[1],S=Object(l.useState)({}),F=Object(s.a)(S,2),I=F[0],T=F[1],J=Object(l.useState)(!1),R=Object(s.a)(J,2),M=R[0],q=R[1],z=Object(l.useState)(null),A=Object(s.a)(z,2),B=A[0],D=A[1],G=Object(l.useRef)(),H=Object(l.useRef)(0),K=function(){if(Object(m.a)(k)||Object(f.a)(k)||Object(d.a)(k))return!1;var e=k.address.cityName;return!Object(m.a)(e)&&!Object(f.a)(e)&&!e.includes("")&&!e.includes("null")},L=function(t){e[t]&&(Object(E.a)("favorites",e[t].address.cityName),C(Object(r.a)({},e[t]))),D(t)},P=function(){var e;return n.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(f.a)(k)||!Object.keys(k).length){t.next=15;break}return t.prev=1,q(!0),t.next=5,n.a.awrap(Object(u.a)(k));case 5:e=t.sent,Object(m.a)(e)||Object(f.a)(e)||Object(d.a)(e)||(T((function(t){return Object(r.a)({},t,{},e)})),Q()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),g.a(t.t0);case 12:return t.prev=12,q(!1),t.finish(12);case 15:case"end":return t.stop()}}),null,null,[[1,9,12,15]])},Q=function(){var e;e=G,Object(d.a)(e.current)||window.scrollTo(0,e.current.offsetTop)};return Object(l.useEffect)((function(){P(),Object(m.a)(k)||Object(f.a)(k)||Object(d.a)(k)||(Object(f.a)(Object(b.a)(e,(function(e){return e.address.cityName===k.address.cityName})))?L(B):e.length>H.current&&L(e.length-1)),H.current=e.length;var t=setInterval((function(){P()}),36e5);return function(){clearInterval(t)}}),[k,e]),o.a.createElement(l.Fragment,null,e.length>0?o.a.createElement("div",{className:"bg-".concat(a," pt-10 pb-24 mb-0")},o.a.createElement("p",{className:"text-center font-bold text-2xl text-".concat(c)},"Favorites"),o.a.createElement("div",{className:"sm:hidden px-5 py-5"},o.a.createElement(j.a,Object.assign({},Object(O.a)("favorite"),{slideIndex:B,afterSlide:function(e){return L(e)}}),e.map((function(e,t){return o.a.createElement(h,{key:e.latlong,favorite:e,index:t,selectedIndex:B,favoriteSelected:function(){return L(t)}})})))),o.a.createElement("div",{className:"hidden sm:flex justify-center items-center"},o.a.createElement("div",{className:"sm:w-5/6 xl:max-w-6xl px-5 py-5"},o.a.createElement("div",{className:"flex sm:flex-row flex-wrap justify-center"},e.map((function(e,t){return o.a.createElement("div",{className:"m-2 sm:w-1/2 md:w-1/4",key:e.latlong},o.a.createElement(h,{key:e.latlong,favorite:e,index:t,selectedIndex:B,favoriteSelected:function(){return L(t)}}))}))))),o.a.createElement("div",{ref:G},Object(m.a)(I.weatherCurrent)||Object(f.a)(I.weatherCurrent)||Object(d.a)(I.weatherCurrent)?o.a.createElement(l.Fragment,null,M?o.a.createElement(w.a,{loaderText:"Fetching weather forecast ".concat(K()?"for ".concat(k.address.cityName):""," \ud83d\ude0e")}):o.a.createElement("div",null,K()?o.a.createElement("div",{className:"flex justify-center"},o.a.createElement("div",{className:"sm:w-full lg:w-2/3 xl:w-1/2"},o.a.createElement(p.a,{errorMessage:"Something went wrong. Failed to fetch weather forecast ".concat(K()?"for ".concat(k.address.cityName):"","! \ud83d\ude22")}))):null)):o.a.createElement(x.a,{weatherCurrent:I.weatherCurrent,weatherForecast:I.weatherForecast,address:k.address,latlong:k.latlong}))):null)}}}]);
//# sourceMappingURL=8.3dbbef78.chunk.js.map